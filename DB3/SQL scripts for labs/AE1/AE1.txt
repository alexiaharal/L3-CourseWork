/*
Script generated by Aqua Data Studio 4.7.2 on Jan-28-2013 02:24:29 PM
Database: XE
Schema: AE1
Objects: TABLE
*/
ALTER TABLE AE1.SONG
	DROP CONSTRAINT SYS_C007667
GO
ALTER TABLE AE1.RELEASE
	DROP CONSTRAINT SYS_C007663
GO
ALTER TABLE AE1.MEMBEROF
	DROP CONSTRAINT SYS_C007676
GO
ALTER TABLE AE1.MEMBEROF
	DROP CONSTRAINT SYS_C007675
GO
ALTER TABLE AE1.SONG
	DROP CONSTRAINT SYS_C007666
GO
ALTER TABLE AE1.RELEASE
	DROP CONSTRAINT SYS_C007662
GO
ALTER TABLE AE1.MEMBEROF
	DROP CONSTRAINT SYS_C007674
GO
ALTER TABLE AE1.MEMBER
	DROP CONSTRAINT SYS_C007671
GO
ALTER TABLE AE1.BAND
	DROP CONSTRAINT SYS_C007657
GO
DROP TABLE AE1.SONG
GO
DROP TABLE AE1.RELEASE
GO
DROP TABLE AE1.MEMBEROF
GO
DROP TABLE AE1.MEMBER
GO
DROP TABLE AE1.BAND
GO

CREATE TABLE AE1.BAND ( 
	BID    	NUMBER NOT NULL,
	NAME   	VARCHAR2(25) NOT NULL,
	COUNTRY	VARCHAR2(20) NULL,
	WEBPAGE	VARCHAR2(40) NULL 
	)
GO
CREATE TABLE AE1.MEMBER ( 
	MID       	NUMBER NOT NULL,
	NAME      	VARCHAR2(30) NOT NULL,
	STILLALIVE	CHAR(1) NOT NULL 
	)
GO
CREATE TABLE AE1.MEMBEROF ( 
	MID       	NUMBER NOT NULL,
	BID       	NUMBER NOT NULL,
	STARTYEAR 	NUMBER NULL,
	ENDYEAR   	NUMBER NULL,
	INSTRUMENT	VARCHAR2(15) NULL 
	)
GO
CREATE TABLE AE1.RELEASE ( 
	RID   	NUMBER NOT NULL,
	BID   	NUMBER NULL,
	TITLE 	VARCHAR2(50) NOT NULL,
	YEAR  	NUMBER NOT NULL,
	TYPE  	VARCHAR2(10) NOT NULL,
	RATING	NUMBER NULL 
	)
GO
CREATE TABLE AE1.SONG ( 
	TITLE  	VARCHAR2(100) NOT NULL,
	RID    	NUMBER NOT NULL,
	CDBONUS	CHAR(1) NULL 
	)
GO

ALTER TABLE AE1.BAND
	ADD ( CONSTRAINT SYS_C007657
	PRIMARY KEY (BID)
	NOT DEFERRABLE INITIALLY IMMEDIATE )
GO
ALTER TABLE AE1.MEMBER
	ADD ( CONSTRAINT SYS_C007671
	PRIMARY KEY (MID)
	NOT DEFERRABLE INITIALLY IMMEDIATE )
GO
ALTER TABLE AE1.MEMBEROF
	ADD ( CONSTRAINT SYS_C007674
	PRIMARY KEY (BID, MID)
	NOT DEFERRABLE INITIALLY IMMEDIATE )
GO
ALTER TABLE AE1.RELEASE
	ADD ( CONSTRAINT SYS_C007662
	PRIMARY KEY (RID)
	NOT DEFERRABLE INITIALLY IMMEDIATE )
GO
ALTER TABLE AE1.SONG
	ADD ( CONSTRAINT SYS_C007666
	PRIMARY KEY (RID, TITLE)
	NOT DEFERRABLE INITIALLY IMMEDIATE )
GO
ALTER TABLE AE1.MEMBEROF
	ADD ( CONSTRAINT SYS_C007676
	FOREIGN KEY(BID)
	REFERENCES AE1.BAND(BID)
	ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE )
GO
ALTER TABLE AE1.MEMBEROF
	ADD ( CONSTRAINT SYS_C007675
	FOREIGN KEY(MID)
	REFERENCES AE1.MEMBER(MID)
	ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE )
GO
ALTER TABLE AE1.RELEASE
	ADD ( CONSTRAINT SYS_C007663
	FOREIGN KEY(BID)
	REFERENCES AE1.BAND(BID)
	ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE )
GO
ALTER TABLE AE1.SONG
	ADD ( CONSTRAINT SYS_C007667
	FOREIGN KEY(RID)
	REFERENCES AE1.RELEASE(RID)
	ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE )
GO
